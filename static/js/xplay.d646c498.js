(function(e){function t(t){for(var i,a,l=t[0],d=t[1],s=t[2],p=0,c=[];p<l.length;p++)a=l[p],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&c.push(n[a][0]),n[a]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(e[i]=d[i]);u&&u(t);while(c.length)c.shift()();return r.push.apply(r,s||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],i=!0,l=1;l<o.length;l++){var d=o[l];0!==n[d]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=o[0]))}return e}var i={},n={xplay:0},r=[];function a(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=i,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(o,i,function(t){return e[t]}.bind(null,i));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/cg/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=d;r.push([2,"chunk-vendors","chunk-common"]),o()})({2:function(e,t,o){e.exports=o("3d54")},"3d54":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("8bbf"),n=o.n(i),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mod_play",attrs:{id:"app"}},[o("Icons"),o("PlayHeader"),e.videoPlayInfoList.length>0?o("ModPlayer",{ref:"ModPlayer",attrs:{"play-groups":e.videoPlayInfoList,title:e.title,"poster-url":e.posterUrl,"video-url":e.videoUrl}}):e._e(),o("VideoIntro",{attrs:{title:e.title,"refresh-btn":e.refreshBtn}}),o("XPlayList",{attrs:{"video-play-infos":e.videoPlayInfoList,"current-video-url":e.videoUrl},on:{changeVideoUrl:e.changeVideoUrl}}),e.showLoading?o("Loading",{attrs:{"error-msg":e.errorMsg}}):e._e(),e.feeds.length>0?o("ModRecommend",{attrs:{title:"猜你喜欢",feeds:e.feeds}}):e._e()],1)},a=[],l=(o("99af"),o("7db0"),o("d81d"),o("fb6a"),o("d3b7"),o("ad9a")),d=o("db49"),s=o.n(d),u=new l["a"](s.a.pocketBaseHost),p=20,c="videoOriginInfo",f="videoPlayInfo(videoOriginOpenId)",y={listVideoOriginByTitle:function(e,t){return u.collection(c).getList(t,p,{sort:"-created",filter:'title~"'.concat(e,'"')})},getDetailVideoInfoByOpenId:function(e){return u.collection(c).getOne(e,{expand:f}).then((function(e){return e.videoPlayInfoList=[{origin:"default",originName:"共享播放源",show:!0,videoPlayList:e.expand[f].map((function(e,t){return{title:e.videoTitle,tips:"1080p",type:"",videoUrl:e.videoUrl,updateTime:e.updated}}))}],e}))}},h=o("5034"),v=o("3f87"),g=o("3a5e"),b=o("c5a6"),m=o("6021"),P=o("9688"),I=o("ee1a"),U=o("8ded"),w={name:"app",components:{ModRecommend:h["a"],PlayHeader:v["a"],Loading:g["a"],Icons:b["a"],XPlayList:m["a"],VideoIntro:I["a"],ModPlayer:P["a"]},data:function(){return{showLoading:!0,errorMsg:"",refreshBtn:"如遇播放失败，请刷新重试",feeds:[{title:"一只魔方[全网资源搜索]",subTitle:"膜拜！庆国皇室 全员恶人",topTip:"超前点播",footerTip:"资源搜索",url:"https://v.pet2.net/cs/",picUrl:"https://f.pet2.net/wb/mw690/b4ce362dly1fthmxu64t5j20hp09rgms.jpg"},{title:"魔方导航[发现新站点]",subTitle:"膜拜！庆国皇室 全员恶人",topTip:"超前点播",footerTip:"全46集",url:"",picUrl:"http://puui.qpic.cn/tv/0/480546508_498280/0"}],videoPlayInfoList:[],videoUrl:"",posterUrl:"",title:"",openId:"",playVideoUrl:"".concat(location.origin).concat(location.pathname)}},mounted:function(){this.openId=this.$utils.getUrlKey("openId"),this.title=this.$utils.getUrlKey("title"),this.posterUrl=this.$utils.getUrlKey("poster"),this.loadData(),this.loadRelatedFeeds(this.title)},methods:{changeVideoUrl:function(e){e!==this.videoUrl&&(this.videoUrl=e,this.$refs.ModPlayer.playVideoWithUrl(e,this.videoType))},loadData:function(){var e=this;this.showLoading=!0,y.getDetailVideoInfoByOpenId(this.openId).then((function(t){e.title=t.title,e.videoPlayInfoList=t.videoPlayInfoList,e.videoPlayInfoList.length<1?e.refreshBtn="抱歉，没有找到相关视频":e.videoUrl=e.videoPlayInfoList[0].videoPlayList[0].videoUrl})).catch((function(t){e.errorMsg=t})).finally((function(){e.showLoading=!1}))},loadRelatedFeeds:function(e){var t=this;if(null!=e&&"undefined"!=typeof e&&0!==e){var o=e.substring(0,2);y.listVideoOriginByTitle(o,1).then((function(e){t.feeds=e.items.map((function(e,o){return{index:o,title:e.title,subTitle:t.$utils.dateFormatTips(e.updated),topTip:e.videoType,footerTip:"推荐",url:"",picUrl:e.cover}}))}))}},getCatName:function(e){return"电影"},writePlayRecord:function(e){var t=U.get(s.a.userPlayInfoKey);if(t){var o=t.playRecords,i=o.find((function(t){if(t._id===e._id)return!0}));if(i)return;return o.length>4&&(o=o.slice(0,4)),o.unshift(e),t.playRecords=o,void U.set(s.a.userPlayInfoKey,t)}U.set(s.a.userPlayInfoKey,{userId:"nil-name",playRecords:[e]})}}},L=w,O=o("2877"),T=Object(O["a"])(L,r,a,!1,null,null,null),x=T.exports,j=o("ca00"),_=o("caf9");n.a.config.productionTip=!1,n.a.use(_["a"],{preLoad:1.3,error:"https://f.pet2.net/wb/mw690/b4ce362dly1gd1xvoyiffj20ci06jmx0.jpg",loading:"https://6f6e-onespider-461969-1251448557.tcb.qcloud.la/app/loading.svg?sign=aba6a438f2665f6c2d8730bb78e05526&t=1584800622",attempt:1}),n.a.prototype.$utils=j["a"],new n.a({render:function(e){return e(x)}}).$mount("#app")},"8bbf":function(e,t){e.exports=Vue},c06d:function(e,t){e.exports=DPlayer}});